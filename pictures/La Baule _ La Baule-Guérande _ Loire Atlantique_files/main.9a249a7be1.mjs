(r=>{Element.prototype.getWoodyController=function(){return this._woody_controller||null};let u=[],s=[];for(const o in WoodyMainJsModules){const e=WoodyMainJsModules[o];e.controller?u.push({name:e.controller,module:o}):e.component&&s.push({tag:e.component,module:o})}function a(o,e){e!==""&&import(`${e.replaceAll("-","_")}`).then(({default:t})=>{o.controller=new t(o),o.controller.init()})}let i=[];function c(o,e){customElements.get(o)||i.includes(o)||(i.push(o),import(e).then(({default:t})=>{customElements.define(o,t)}))}const d=r.querySelectorAll("[data-woody-controller]");d.length>0&&d.forEach(o=>{o?.dataset?.woodyController&&a(o,o.dataset.woodyController)});for(const o of s)r.querySelectorAll(o.tag)?.length>0&&c(o.tag,o.module);const f=new WeakSet;function h(o){f.add(o),new MutationObserver(t=>{for(const n of t)n.addedNodes.forEach(l)}).observe(o,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}function l(o){o?.dataset?.woodyController&&a(o,o.dataset.woodyController);const e=o?.tagName;if(e){const t=s.filter(n=>n.tag===e.toLowerCase());t.length===1&&c(t[0].tag,t[0].module)}o.shadowRoot&&!f.has(o.shadowRoot)&&h(o.shadowRoot),o.children&&Array.from(o.children).forEach(l)}var m=new MutationObserver(function(o){o.forEach(function(e){e.addedNodes.forEach(l)})});m.observe(r.body,{attributes:!1,childList:!0,characterData:!1,subtree:!0})})(document);
